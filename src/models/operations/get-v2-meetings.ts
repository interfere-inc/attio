/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";
import * as models from "../index.js";

/**
 * The order in which to sort the meetings. Defaults to start_asc.
 */
export const GetV2MeetingsSort = {
  StartAsc: "start_asc",
  StartDesc: "start_desc",
} as const;
/**
 * The order in which to sort the meetings. Defaults to start_asc.
 */
export type GetV2MeetingsSort = ClosedEnum<typeof GetV2MeetingsSort>;

export type GetV2MeetingsRequest = {
  limit?: number | undefined;
  cursor?: string | undefined;
  linkedObject?: string | undefined;
  linkedRecordId?: string | undefined;
  participants?: string | undefined;
  /**
   * The order in which to sort the meetings. Defaults to start_asc.
   */
  sort?: GetV2MeetingsSort | undefined;
  endsFrom?: string | null | undefined;
  startsBefore?: string | null | undefined;
  timezone?: string | undefined;
};

export type GetV2MeetingsPagination = {
  nextCursor: string | null;
};

/**
 * Success
 */
export type GetV2MeetingsResponse = {
  data: Array<models.Meeting>;
  pagination: GetV2MeetingsPagination;
};

/** @internal */
export const GetV2MeetingsSort$outboundSchema: z.ZodMiniEnum<
  typeof GetV2MeetingsSort
> = z.enum(GetV2MeetingsSort);

/** @internal */
export type GetV2MeetingsRequest$Outbound = {
  limit: number;
  cursor?: string | undefined;
  linked_object?: string | undefined;
  linked_record_id?: string | undefined;
  participants: string;
  sort: string;
  ends_from?: string | null | undefined;
  starts_before?: string | null | undefined;
  timezone: string;
};

/** @internal */
export const GetV2MeetingsRequest$outboundSchema: z.ZodMiniType<
  GetV2MeetingsRequest$Outbound,
  GetV2MeetingsRequest
> = z.pipe(
  z.object({
    limit: z._default(z.int(), 50),
    cursor: z.optional(z.string()),
    linkedObject: z.optional(z.string()),
    linkedRecordId: z.optional(z.string()),
    participants: z._default(z.string(), ""),
    sort: z._default(GetV2MeetingsSort$outboundSchema, "start_asc"),
    endsFrom: z.optional(z.nullable(z.string())),
    startsBefore: z.optional(z.nullable(z.string())),
    timezone: z._default(z.string(), "UTC"),
  }),
  z.transform((v) => {
    return remap$(v, {
      linkedObject: "linked_object",
      linkedRecordId: "linked_record_id",
      endsFrom: "ends_from",
      startsBefore: "starts_before",
    });
  }),
);

export function getV2MeetingsRequestToJSON(
  getV2MeetingsRequest: GetV2MeetingsRequest,
): string {
  return JSON.stringify(
    GetV2MeetingsRequest$outboundSchema.parse(getV2MeetingsRequest),
  );
}

/** @internal */
export const GetV2MeetingsPagination$inboundSchema: z.ZodMiniType<
  GetV2MeetingsPagination,
  unknown
> = z.pipe(
  z.object({
    next_cursor: types.nullable(types.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "next_cursor": "nextCursor",
    });
  }),
);

export function getV2MeetingsPaginationFromJSON(
  jsonString: string,
): SafeParseResult<GetV2MeetingsPagination, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetV2MeetingsPagination$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetV2MeetingsPagination' from JSON`,
  );
}

/** @internal */
export const GetV2MeetingsResponse$inboundSchema: z.ZodMiniType<
  GetV2MeetingsResponse,
  unknown
> = z.object({
  data: z.array(models.Meeting$inboundSchema),
  pagination: z.lazy(() => GetV2MeetingsPagination$inboundSchema),
});

export function getV2MeetingsResponseFromJSON(
  jsonString: string,
): SafeParseResult<GetV2MeetingsResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetV2MeetingsResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetV2MeetingsResponse' from JSON`,
  );
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";
import * as models from "../index.js";

/**
 * Whether the attribute is on an object or a list.
 */
export const PatchV2TargetIdentifierAttributesAttributeTarget = {
  Objects: "objects",
  Lists: "lists",
} as const;
/**
 * Whether the attribute is on an object or a list.
 */
export type PatchV2TargetIdentifierAttributesAttributeTarget = ClosedEnum<
  typeof PatchV2TargetIdentifierAttributesAttributeTarget
>;

export type PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic = {
  type: "static";
  template: Array<models.InputValueUnion>;
};

/**
 * For actor reference attributes, you may pass a dynamic value of `"current-user"`. When creating new records or entries, this will cause the actor reference value to be populated with either the workspace member or API token that created the record/entry.
 */
export const PatchV2TargetIdentifierAttributesAttributeTemplate = {
  CurrentUser: "current-user",
} as const;
/**
 * For actor reference attributes, you may pass a dynamic value of `"current-user"`. When creating new records or entries, this will cause the actor reference value to be populated with either the workspace member or API token that created the record/entry.
 */
export type PatchV2TargetIdentifierAttributesAttributeTemplate = ClosedEnum<
  typeof PatchV2TargetIdentifierAttributesAttributeTemplate
>;

export type PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic = {
  type: "dynamic";
  template: any;
};

/**
 * The default value for this attribute. Static values are used to directly populate values using their contents. Dynamic values are used to lookup data at the point of creation. For example, you could use a dynamic value to insert a value for the currently logged in user. Which default values are available is dependent on the type of the attribute. Default values are not currently supported on people or company objects.
 */
export type PatchV2TargetIdentifierAttributesAttributeDefaultValueUnion =
  | PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic
  | PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic;

/**
 * The ISO4217 code representing the currency that values for this attribute should be stored in.
 */
export const PatchV2TargetIdentifierAttributesAttributeDefaultCurrencyCode = {
  Ars: "ARS",
  Aud: "AUD",
  Brl: "BRL",
  Bgn: "BGN",
  Cad: "CAD",
  Clp: "CLP",
  Cny: "CNY",
  Cop: "COP",
  Czk: "CZK",
  Dkk: "DKK",
  Eur: "EUR",
  Hkd: "HKD",
  Huf: "HUF",
  Isk: "ISK",
  Inr: "INR",
  Ils: "ILS",
  Jpy: "JPY",
  Kes: "KES",
  Krw: "KRW",
  Myr: "MYR",
  Mxn: "MXN",
  Ntd: "NTD",
  Nzd: "NZD",
  Ngn: "NGN",
  Nok: "NOK",
  Xpf: "XPF",
  Pen: "PEN",
  Php: "PHP",
  Pln: "PLN",
  Gbp: "GBP",
  Rwf: "RWF",
  Sar: "SAR",
  Sgd: "SGD",
  Zar: "ZAR",
  Sek: "SEK",
  Chf: "CHF",
  Thb: "THB",
  Aed: "AED",
  Uyu: "UYU",
  Usd: "USD",
} as const;
/**
 * The ISO4217 code representing the currency that values for this attribute should be stored in.
 */
export type PatchV2TargetIdentifierAttributesAttributeDefaultCurrencyCode =
  ClosedEnum<
    typeof PatchV2TargetIdentifierAttributesAttributeDefaultCurrencyCode
  >;

/**
 * How the currency should be displayed across the app. "code" will display the ISO currency code e.g. "USD", "name" will display the localized currency name e.g. "British pound", "narrowSymbol" will display "$1" instead of "US$1" and "symbol" will display a localized currency symbol such as "$".
 */
export const PatchV2TargetIdentifierAttributesAttributeDisplayType = {
  Code: "code",
  Name: "name",
  NarrowSymbol: "narrowSymbol",
  Symbol: "symbol",
} as const;
/**
 * How the currency should be displayed across the app. "code" will display the ISO currency code e.g. "USD", "name" will display the localized currency name e.g. "British pound", "narrowSymbol" will display "$1" instead of "US$1" and "symbol" will display a localized currency symbol such as "$".
 */
export type PatchV2TargetIdentifierAttributesAttributeDisplayType = ClosedEnum<
  typeof PatchV2TargetIdentifierAttributesAttributeDisplayType
>;

/**
 * Configuration available for attributes of type "currency".
 */
export type PatchV2TargetIdentifierAttributesAttributeCurrency = {
  /**
   * The ISO4217 code representing the currency that values for this attribute should be stored in.
   */
  defaultCurrencyCode:
    PatchV2TargetIdentifierAttributesAttributeDefaultCurrencyCode;
  /**
   * How the currency should be displayed across the app. "code" will display the ISO currency code e.g. "USD", "name" will display the localized currency name e.g. "British pound", "narrowSymbol" will display "$1" instead of "US$1" and "symbol" will display a localized currency symbol such as "$".
   */
  displayType: PatchV2TargetIdentifierAttributesAttributeDisplayType;
};

/**
 * Configuration available for attributes of type "record-reference".
 */
export type PatchV2TargetIdentifierAttributesAttributeRecordReference = {
  /**
   * A list of slugs or UUIDs to indicate which objects records are allowed to belong to. If `relationship` is also provided, this must contain only the relationship object.
   */
  allowedObjects: Array<string>;
};

/**
 * Additional, type-dependent configuration for the attribute.
 */
export type PatchV2TargetIdentifierAttributesAttributeConfig = {
  /**
   * Configuration available for attributes of type "currency".
   */
  currency?: PatchV2TargetIdentifierAttributesAttributeCurrency | undefined;
  /**
   * Configuration available for attributes of type "record-reference".
   */
  recordReference?:
    | PatchV2TargetIdentifierAttributesAttributeRecordReference
    | undefined;
};

export type PatchV2TargetIdentifierAttributesAttributeData = {
  /**
   * The name of the attribute. The title will be visible across Attio's UI.
   */
  title?: string | undefined;
  /**
   * A text description for the attribute.
   */
  description?: string | null | undefined;
  /**
   * A unique, human-readable slug to access the attribute through URLs and API calls. Formatted in snake case.
   */
  apiSlug?: string | undefined;
  /**
   * When `is_required` is `true`, new records/entries must have a value for this attribute. If `false`, values may be `null`. This value does not affect existing data and you do not need to backfill `null` values if changing `is_required` from `false` to `true`.
   */
  isRequired?: boolean | undefined;
  /**
   * Whether or not new values for this attribute must be unique. Uniqueness restrictions are only applied to new data and do not apply retroactively to previously created data.
   */
  isUnique?: boolean | undefined;
  /**
   * The default value for this attribute. Static values are used to directly populate values using their contents. Dynamic values are used to lookup data at the point of creation. For example, you could use a dynamic value to insert a value for the currently logged in user. Which default values are available is dependent on the type of the attribute. Default values are not currently supported on people or company objects.
   */
  defaultValue?:
    | PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic
    | PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic
    | null
    | undefined;
  /**
   * Additional, type-dependent configuration for the attribute.
   */
  config?: PatchV2TargetIdentifierAttributesAttributeConfig | undefined;
  /**
   * Whether the attribute has been archived or not. See our [archiving guide](/docs/archiving-vs-deleting) for more information on archiving.
   */
  isArchived?: boolean | undefined;
};

export type PatchV2TargetIdentifierAttributesAttributeRequestBody = {
  data: PatchV2TargetIdentifierAttributesAttributeData;
};

export type PatchV2TargetIdentifierAttributesAttributeRequest = {
  /**
   * Whether the attribute is on an object or a list.
   */
  target: PatchV2TargetIdentifierAttributesAttributeTarget;
  identifier: string;
  attribute: string;
  body: PatchV2TargetIdentifierAttributesAttributeRequestBody;
};

export const PatchV2TargetIdentifierAttributesAttributeNotFoundType = {
  InvalidRequestError: "invalid_request_error",
} as const;
export type PatchV2TargetIdentifierAttributesAttributeNotFoundType = ClosedEnum<
  typeof PatchV2TargetIdentifierAttributesAttributeNotFoundType
>;

export const PatchV2TargetIdentifierAttributesAttributeNotFoundCode = {
  NotFound: "not_found",
} as const;
export type PatchV2TargetIdentifierAttributesAttributeNotFoundCode = ClosedEnum<
  typeof PatchV2TargetIdentifierAttributesAttributeNotFoundCode
>;

export const PatchV2TargetIdentifierAttributesAttributeBadRequestType = {
  InvalidRequestError: "invalid_request_error",
} as const;
export type PatchV2TargetIdentifierAttributesAttributeBadRequestType =
  ClosedEnum<typeof PatchV2TargetIdentifierAttributesAttributeBadRequestType>;

export const CodeSystemEditUnauthorized = {
  SystemEditUnauthorized: "system_edit_unauthorized",
} as const;
export type CodeSystemEditUnauthorized = ClosedEnum<
  typeof CodeSystemEditUnauthorized
>;

/**
 * Success
 */
export type PatchV2TargetIdentifierAttributesAttributeResponse = {
  data: models.Attribute;
};

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeTarget$outboundSchema:
  z.ZodMiniEnum<typeof PatchV2TargetIdentifierAttributesAttributeTarget> = z
    .enum(PatchV2TargetIdentifierAttributesAttributeTarget);

/** @internal */
export type PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic$Outbound =
  {
    type: "static";
    template: Array<models.InputValueUnion$Outbound>;
  };

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic$outboundSchema:
  z.ZodMiniType<
    PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic$Outbound,
    PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic
  > = z.object({
    type: z.literal("static"),
    template: z.array(models.InputValueUnion$outboundSchema),
  });

export function patchV2TargetIdentifierAttributesAttributeDefaultValueStaticToJSON(
  patchV2TargetIdentifierAttributesAttributeDefaultValueStatic:
    PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic,
): string {
  return JSON.stringify(
    PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic$outboundSchema
      .parse(patchV2TargetIdentifierAttributesAttributeDefaultValueStatic),
  );
}

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeTemplate$outboundSchema:
  z.ZodMiniEnum<typeof PatchV2TargetIdentifierAttributesAttributeTemplate> = z
    .enum(PatchV2TargetIdentifierAttributesAttributeTemplate);

/** @internal */
export type PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic$Outbound =
  {
    type: "dynamic";
    template: any;
  };

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic$outboundSchema:
  z.ZodMiniType<
    PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic$Outbound,
    PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic
  > = z.object({
    type: z.literal("dynamic"),
    template: z.any(),
  });

export function patchV2TargetIdentifierAttributesAttributeDefaultValueDynamicToJSON(
  patchV2TargetIdentifierAttributesAttributeDefaultValueDynamic:
    PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic,
): string {
  return JSON.stringify(
    PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic$outboundSchema
      .parse(patchV2TargetIdentifierAttributesAttributeDefaultValueDynamic),
  );
}

/** @internal */
export type PatchV2TargetIdentifierAttributesAttributeDefaultValueUnion$Outbound =
  | PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic$Outbound
  | PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic$Outbound;

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeDefaultValueUnion$outboundSchema:
  z.ZodMiniType<
    PatchV2TargetIdentifierAttributesAttributeDefaultValueUnion$Outbound,
    PatchV2TargetIdentifierAttributesAttributeDefaultValueUnion
  > = z.union([
    z.lazy(() =>
      PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic$outboundSchema
    ),
    z.lazy(() =>
      PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic$outboundSchema
    ),
  ]);

export function patchV2TargetIdentifierAttributesAttributeDefaultValueUnionToJSON(
  patchV2TargetIdentifierAttributesAttributeDefaultValueUnion:
    PatchV2TargetIdentifierAttributesAttributeDefaultValueUnion,
): string {
  return JSON.stringify(
    PatchV2TargetIdentifierAttributesAttributeDefaultValueUnion$outboundSchema
      .parse(patchV2TargetIdentifierAttributesAttributeDefaultValueUnion),
  );
}

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeDefaultCurrencyCode$outboundSchema:
  z.ZodMiniEnum<
    typeof PatchV2TargetIdentifierAttributesAttributeDefaultCurrencyCode
  > = z.enum(PatchV2TargetIdentifierAttributesAttributeDefaultCurrencyCode);

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeDisplayType$outboundSchema:
  z.ZodMiniEnum<typeof PatchV2TargetIdentifierAttributesAttributeDisplayType> =
    z.enum(PatchV2TargetIdentifierAttributesAttributeDisplayType);

/** @internal */
export type PatchV2TargetIdentifierAttributesAttributeCurrency$Outbound = {
  default_currency_code: string;
  display_type: string;
};

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeCurrency$outboundSchema:
  z.ZodMiniType<
    PatchV2TargetIdentifierAttributesAttributeCurrency$Outbound,
    PatchV2TargetIdentifierAttributesAttributeCurrency
  > = z.pipe(
    z.object({
      defaultCurrencyCode:
        PatchV2TargetIdentifierAttributesAttributeDefaultCurrencyCode$outboundSchema,
      displayType:
        PatchV2TargetIdentifierAttributesAttributeDisplayType$outboundSchema,
    }),
    z.transform((v) => {
      return remap$(v, {
        defaultCurrencyCode: "default_currency_code",
        displayType: "display_type",
      });
    }),
  );

export function patchV2TargetIdentifierAttributesAttributeCurrencyToJSON(
  patchV2TargetIdentifierAttributesAttributeCurrency:
    PatchV2TargetIdentifierAttributesAttributeCurrency,
): string {
  return JSON.stringify(
    PatchV2TargetIdentifierAttributesAttributeCurrency$outboundSchema.parse(
      patchV2TargetIdentifierAttributesAttributeCurrency,
    ),
  );
}

/** @internal */
export type PatchV2TargetIdentifierAttributesAttributeRecordReference$Outbound =
  {
    allowed_objects: Array<string>;
  };

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeRecordReference$outboundSchema:
  z.ZodMiniType<
    PatchV2TargetIdentifierAttributesAttributeRecordReference$Outbound,
    PatchV2TargetIdentifierAttributesAttributeRecordReference
  > = z.pipe(
    z.object({
      allowedObjects: z.array(z.string()),
    }),
    z.transform((v) => {
      return remap$(v, {
        allowedObjects: "allowed_objects",
      });
    }),
  );

export function patchV2TargetIdentifierAttributesAttributeRecordReferenceToJSON(
  patchV2TargetIdentifierAttributesAttributeRecordReference:
    PatchV2TargetIdentifierAttributesAttributeRecordReference,
): string {
  return JSON.stringify(
    PatchV2TargetIdentifierAttributesAttributeRecordReference$outboundSchema
      .parse(patchV2TargetIdentifierAttributesAttributeRecordReference),
  );
}

/** @internal */
export type PatchV2TargetIdentifierAttributesAttributeConfig$Outbound = {
  currency?:
    | PatchV2TargetIdentifierAttributesAttributeCurrency$Outbound
    | undefined;
  record_reference?:
    | PatchV2TargetIdentifierAttributesAttributeRecordReference$Outbound
    | undefined;
};

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeConfig$outboundSchema:
  z.ZodMiniType<
    PatchV2TargetIdentifierAttributesAttributeConfig$Outbound,
    PatchV2TargetIdentifierAttributesAttributeConfig
  > = z.pipe(
    z.object({
      currency: z.optional(z.lazy(() =>
        PatchV2TargetIdentifierAttributesAttributeCurrency$outboundSchema
      )),
      recordReference: z.optional(z.lazy(() =>
        PatchV2TargetIdentifierAttributesAttributeRecordReference$outboundSchema
      )),
    }),
    z.transform((v) => {
      return remap$(v, {
        recordReference: "record_reference",
      });
    }),
  );

export function patchV2TargetIdentifierAttributesAttributeConfigToJSON(
  patchV2TargetIdentifierAttributesAttributeConfig:
    PatchV2TargetIdentifierAttributesAttributeConfig,
): string {
  return JSON.stringify(
    PatchV2TargetIdentifierAttributesAttributeConfig$outboundSchema.parse(
      patchV2TargetIdentifierAttributesAttributeConfig,
    ),
  );
}

/** @internal */
export type PatchV2TargetIdentifierAttributesAttributeData$Outbound = {
  title?: string | undefined;
  description?: string | null | undefined;
  api_slug?: string | undefined;
  is_required?: boolean | undefined;
  is_unique?: boolean | undefined;
  default_value?:
    | PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic$Outbound
    | PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic$Outbound
    | null
    | undefined;
  config?:
    | PatchV2TargetIdentifierAttributesAttributeConfig$Outbound
    | undefined;
  is_archived?: boolean | undefined;
};

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeData$outboundSchema:
  z.ZodMiniType<
    PatchV2TargetIdentifierAttributesAttributeData$Outbound,
    PatchV2TargetIdentifierAttributesAttributeData
  > = z.pipe(
    z.object({
      title: z.optional(z.string()),
      description: z.optional(z.nullable(z.string())),
      apiSlug: z.optional(z.string()),
      isRequired: z.optional(z.boolean()),
      isUnique: z.optional(z.boolean()),
      defaultValue: z.optional(z.nullable(z.union([
        z.lazy(() =>
          PatchV2TargetIdentifierAttributesAttributeDefaultValueDynamic$outboundSchema
        ),
        z.lazy(() =>
          PatchV2TargetIdentifierAttributesAttributeDefaultValueStatic$outboundSchema
        ),
      ]))),
      config: z.optional(z.lazy(() =>
        PatchV2TargetIdentifierAttributesAttributeConfig$outboundSchema
      )),
      isArchived: z.optional(z.boolean()),
    }),
    z.transform((v) => {
      return remap$(v, {
        apiSlug: "api_slug",
        isRequired: "is_required",
        isUnique: "is_unique",
        defaultValue: "default_value",
        isArchived: "is_archived",
      });
    }),
  );

export function patchV2TargetIdentifierAttributesAttributeDataToJSON(
  patchV2TargetIdentifierAttributesAttributeData:
    PatchV2TargetIdentifierAttributesAttributeData,
): string {
  return JSON.stringify(
    PatchV2TargetIdentifierAttributesAttributeData$outboundSchema.parse(
      patchV2TargetIdentifierAttributesAttributeData,
    ),
  );
}

/** @internal */
export type PatchV2TargetIdentifierAttributesAttributeRequestBody$Outbound = {
  data: PatchV2TargetIdentifierAttributesAttributeData$Outbound;
};

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeRequestBody$outboundSchema:
  z.ZodMiniType<
    PatchV2TargetIdentifierAttributesAttributeRequestBody$Outbound,
    PatchV2TargetIdentifierAttributesAttributeRequestBody
  > = z.object({
    data: z.lazy(() =>
      PatchV2TargetIdentifierAttributesAttributeData$outboundSchema
    ),
  });

export function patchV2TargetIdentifierAttributesAttributeRequestBodyToJSON(
  patchV2TargetIdentifierAttributesAttributeRequestBody:
    PatchV2TargetIdentifierAttributesAttributeRequestBody,
): string {
  return JSON.stringify(
    PatchV2TargetIdentifierAttributesAttributeRequestBody$outboundSchema.parse(
      patchV2TargetIdentifierAttributesAttributeRequestBody,
    ),
  );
}

/** @internal */
export type PatchV2TargetIdentifierAttributesAttributeRequest$Outbound = {
  target: string;
  identifier: string;
  attribute: string;
  body: PatchV2TargetIdentifierAttributesAttributeRequestBody$Outbound;
};

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeRequest$outboundSchema:
  z.ZodMiniType<
    PatchV2TargetIdentifierAttributesAttributeRequest$Outbound,
    PatchV2TargetIdentifierAttributesAttributeRequest
  > = z.object({
    target: PatchV2TargetIdentifierAttributesAttributeTarget$outboundSchema,
    identifier: z.string(),
    attribute: z.string(),
    body: z.lazy(() =>
      PatchV2TargetIdentifierAttributesAttributeRequestBody$outboundSchema
    ),
  });

export function patchV2TargetIdentifierAttributesAttributeRequestToJSON(
  patchV2TargetIdentifierAttributesAttributeRequest:
    PatchV2TargetIdentifierAttributesAttributeRequest,
): string {
  return JSON.stringify(
    PatchV2TargetIdentifierAttributesAttributeRequest$outboundSchema.parse(
      patchV2TargetIdentifierAttributesAttributeRequest,
    ),
  );
}

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeNotFoundType$inboundSchema:
  z.ZodMiniEnum<typeof PatchV2TargetIdentifierAttributesAttributeNotFoundType> =
    z.enum(PatchV2TargetIdentifierAttributesAttributeNotFoundType);

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeNotFoundCode$inboundSchema:
  z.ZodMiniEnum<typeof PatchV2TargetIdentifierAttributesAttributeNotFoundCode> =
    z.enum(PatchV2TargetIdentifierAttributesAttributeNotFoundCode);

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeBadRequestType$inboundSchema:
  z.ZodMiniEnum<
    typeof PatchV2TargetIdentifierAttributesAttributeBadRequestType
  > = z.enum(PatchV2TargetIdentifierAttributesAttributeBadRequestType);

/** @internal */
export const CodeSystemEditUnauthorized$inboundSchema: z.ZodMiniEnum<
  typeof CodeSystemEditUnauthorized
> = z.enum(CodeSystemEditUnauthorized);

/** @internal */
export const PatchV2TargetIdentifierAttributesAttributeResponse$inboundSchema:
  z.ZodMiniType<PatchV2TargetIdentifierAttributesAttributeResponse, unknown> = z
    .object({
      data: models.Attribute$inboundSchema,
    });

export function patchV2TargetIdentifierAttributesAttributeResponseFromJSON(
  jsonString: string,
): SafeParseResult<
  PatchV2TargetIdentifierAttributesAttributeResponse,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      PatchV2TargetIdentifierAttributesAttributeResponse$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'PatchV2TargetIdentifierAttributesAttributeResponse' from JSON`,
  );
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";
import * as models from "../index.js";

/**
 * Specify the format for the note's content. Choose from:
 *
 * @remarks
 * - `plaintext`: Standard text format where `\n` signifies a new line.
 * - `markdown`: Enables rich text formatting using a subset of Markdown syntax:
 *   - **Headings**: Levels 1-3 (`#`, `##`, `###`).
 *   - **Lists**: Unordered (`-`, `*`, `+`) and ordered (`1.`, `2.`).
 *   - **Text styles**: Bold (`**bold**` or `__bold__`), italic (`*italic*` or `_italic_`), strikethrough (`~~strikethrough~~`), and highlight (`==highlighted==`).
 *   - **Links**: Standard Markdown links (`[link text](https://example.com)`).
 *
 *   *Note: While the Attio interface supports image embeds, they cannot currently be added or retrieved via the API's markdown format.*
 */
export const PostV2NotesFormat = {
  Plaintext: "plaintext",
  Markdown: "markdown",
} as const;
/**
 * Specify the format for the note's content. Choose from:
 *
 * @remarks
 * - `plaintext`: Standard text format where `\n` signifies a new line.
 * - `markdown`: Enables rich text formatting using a subset of Markdown syntax:
 *   - **Headings**: Levels 1-3 (`#`, `##`, `###`).
 *   - **Lists**: Unordered (`-`, `*`, `+`) and ordered (`1.`, `2.`).
 *   - **Text styles**: Bold (`**bold**` or `__bold__`), italic (`*italic*` or `_italic_`), strikethrough (`~~strikethrough~~`), and highlight (`==highlighted==`).
 *   - **Links**: Standard Markdown links (`[link text](https://example.com)`).
 *
 *   *Note: While the Attio interface supports image embeds, they cannot currently be added or retrieved via the API's markdown format.*
 */
export type PostV2NotesFormat = ClosedEnum<typeof PostV2NotesFormat>;

export type PostV2NotesData = {
  /**
   * The ID or slug of the parent object the note belongs to.
   */
  parentObject: string;
  /**
   * The ID of the parent record the note belongs to.
   */
  parentRecordId: string;
  /**
   * The note title. The title is plaintext only and has no formatting.
   */
  title: string;
  /**
   * Specify the format for the note's content. Choose from:
   *
   * @remarks
   * - `plaintext`: Standard text format where `\n` signifies a new line.
   * - `markdown`: Enables rich text formatting using a subset of Markdown syntax:
   *   - **Headings**: Levels 1-3 (`#`, `##`, `###`).
   *   - **Lists**: Unordered (`-`, `*`, `+`) and ordered (`1.`, `2.`).
   *   - **Text styles**: Bold (`**bold**` or `__bold__`), italic (`*italic*` or `_italic_`), strikethrough (`~~strikethrough~~`), and highlight (`==highlighted==`).
   *   - **Links**: Standard Markdown links (`[link text](https://example.com)`).
   *
   *   *Note: While the Attio interface supports image embeds, they cannot currently be added or retrieved via the API's markdown format.*
   */
  format: PostV2NotesFormat;
  /**
   * The main content of the note, formatted according to the value provided in the `format` field. Use `\n` for line breaks in `plaintext`. For `markdown`, utilize the supported syntax elements to structure and style your note.
   */
  content: string;
  /**
   * `created_at` will default to the current time. However, if you wish to backdate a note for migration or other purposes, you can override with a custom `created_at` value. Note that dates before 1970 or in the future are not allowed.
   */
  createdAt?: string | undefined;
  /**
   * An optional ID to associate this note with a meeting. If provided, the meeting must exist. Use `null` to explicitly set no meeting association.
   */
  meetingId?: string | null | undefined;
};

export type PostV2NotesRequest = {
  data: PostV2NotesData;
};

export const PostV2NotesType = {
  InvalidRequestError: "invalid_request_error",
} as const;
export type PostV2NotesType = ClosedEnum<typeof PostV2NotesType>;

export const PostV2NotesCode = {
  NotFound: "not_found",
} as const;
export type PostV2NotesCode = ClosedEnum<typeof PostV2NotesCode>;

/**
 * Success
 */
export type PostV2NotesResponse = {
  data: models.Note;
};

/** @internal */
export const PostV2NotesFormat$outboundSchema: z.ZodMiniEnum<
  typeof PostV2NotesFormat
> = z.enum(PostV2NotesFormat);

/** @internal */
export type PostV2NotesData$Outbound = {
  parent_object: string;
  parent_record_id: string;
  title: string;
  format: string;
  content: string;
  created_at?: string | undefined;
  meeting_id?: string | null | undefined;
};

/** @internal */
export const PostV2NotesData$outboundSchema: z.ZodMiniType<
  PostV2NotesData$Outbound,
  PostV2NotesData
> = z.pipe(
  z.object({
    parentObject: z.string(),
    parentRecordId: z.string(),
    title: z.string(),
    format: PostV2NotesFormat$outboundSchema,
    content: z.string(),
    createdAt: z.optional(z.string()),
    meetingId: z.optional(z.nullable(z.string())),
  }),
  z.transform((v) => {
    return remap$(v, {
      parentObject: "parent_object",
      parentRecordId: "parent_record_id",
      createdAt: "created_at",
      meetingId: "meeting_id",
    });
  }),
);

export function postV2NotesDataToJSON(
  postV2NotesData: PostV2NotesData,
): string {
  return JSON.stringify(PostV2NotesData$outboundSchema.parse(postV2NotesData));
}

/** @internal */
export type PostV2NotesRequest$Outbound = {
  data: PostV2NotesData$Outbound;
};

/** @internal */
export const PostV2NotesRequest$outboundSchema: z.ZodMiniType<
  PostV2NotesRequest$Outbound,
  PostV2NotesRequest
> = z.object({
  data: z.lazy(() => PostV2NotesData$outboundSchema),
});

export function postV2NotesRequestToJSON(
  postV2NotesRequest: PostV2NotesRequest,
): string {
  return JSON.stringify(
    PostV2NotesRequest$outboundSchema.parse(postV2NotesRequest),
  );
}

/** @internal */
export const PostV2NotesType$inboundSchema: z.ZodMiniEnum<
  typeof PostV2NotesType
> = z.enum(PostV2NotesType);

/** @internal */
export const PostV2NotesCode$inboundSchema: z.ZodMiniEnum<
  typeof PostV2NotesCode
> = z.enum(PostV2NotesCode);

/** @internal */
export const PostV2NotesResponse$inboundSchema: z.ZodMiniType<
  PostV2NotesResponse,
  unknown
> = z.object({
  data: models.Note$inboundSchema,
});

export function postV2NotesResponseFromJSON(
  jsonString: string,
): SafeParseResult<PostV2NotesResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => PostV2NotesResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'PostV2NotesResponse' from JSON`,
  );
}

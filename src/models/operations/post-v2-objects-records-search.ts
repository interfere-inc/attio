/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { smartUnion } from "../../types/smart-union.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

export const RequestAsTypeWorkspaceMember2 = {
  WorkspaceMember: "workspace-member",
} as const;
export type RequestAsTypeWorkspaceMember2 = ClosedEnum<
  typeof RequestAsTypeWorkspaceMember2
>;

export type RequestAsWorkspaceMember2 = {
  type: RequestAsTypeWorkspaceMember2;
  emailAddress: string;
};

export const RequestAsTypeWorkspaceMember1 = {
  WorkspaceMember: "workspace-member",
} as const;
export type RequestAsTypeWorkspaceMember1 = ClosedEnum<
  typeof RequestAsTypeWorkspaceMember1
>;

export type RequestAsWorkspaceMember1 = {
  type: RequestAsTypeWorkspaceMember1;
  workspaceMemberId: string;
};

export const TypeWorkspace = {
  Workspace: "workspace",
} as const;
export type TypeWorkspace = ClosedEnum<typeof TypeWorkspace>;

export type RequestAsWorkspace = {
  type: TypeWorkspace;
};

/**
 * Specifies the context in which to perform the search. Use 'workspace' to return all search results or specify a workspace member to limit results to what one specific person in your workspace can see.
 */
export type RequestAs =
  | RequestAsWorkspaceMember1
  | RequestAsWorkspaceMember2
  | RequestAsWorkspace;

export type PostV2ObjectsRecordsSearchRequest = {
  /**
   * Query string to search for. An empty string returns a default set of results.
   */
  query: string;
  /**
   * The maximum number of results to return. Defaults to 25.
   */
  limit?: number | undefined;
  /**
   * Specifies which objects to filter results by. At least one object must be specified. Accepts object slugs or IDs.
   */
  objects: Array<string>;
  /**
   * Specifies the context in which to perform the search. Use 'workspace' to return all search results or specify a workspace member to limit results to what one specific person in your workspace can see.
   */
  requestAs:
    | RequestAsWorkspaceMember1
    | RequestAsWorkspaceMember2
    | RequestAsWorkspace;
};

export const PostV2ObjectsRecordsSearchBadRequestType = {
  InvalidRequestError: "invalid_request_error",
} as const;
export type PostV2ObjectsRecordsSearchBadRequestType = ClosedEnum<
  typeof PostV2ObjectsRecordsSearchBadRequestType
>;

export const PostV2ObjectsRecordsSearchCode = {
  ValueNotFound: "value_not_found",
} as const;
export type PostV2ObjectsRecordsSearchCode = ClosedEnum<
  typeof PostV2ObjectsRecordsSearchCode
>;

export type PostV2ObjectsRecordsSearchId3 = {
  /**
   * A UUID identifying the workspace this record belongs to.
   */
  workspaceId: string;
  /**
   * A UUID identifying the object this record belongs to.
   */
  objectId: string;
  /**
   * A UUID identifying this record.
   */
  recordId: string;
};

/**
 * The slug of the object this record belongs to.
 */
export const ObjectSlugCompanies = {
  Companies: "companies",
} as const;
/**
 * The slug of the object this record belongs to.
 */
export type ObjectSlugCompanies = ClosedEnum<typeof ObjectSlugCompanies>;

export type DataCompanies = {
  id: PostV2ObjectsRecordsSearchId3;
  /**
   * A human-readable label for the record. Present on records from all objects.
   */
  recordText: string;
  /**
   * The image for the record.
   */
  recordImage: string | null;
  /**
   * The slug of the object this record belongs to.
   */
  objectSlug: ObjectSlugCompanies;
  /**
   * The company's domains.
   */
  domains: Array<string>;
};

export type PostV2ObjectsRecordsSearchId2 = {
  /**
   * A UUID identifying the workspace this record belongs to.
   */
  workspaceId: string;
  /**
   * A UUID identifying the object this record belongs to.
   */
  objectId: string;
  /**
   * A UUID identifying this record.
   */
  recordId: string;
};

/**
 * The slug of the object this record belongs to.
 */
export const ObjectSlugPeople = {
  People: "people",
} as const;
/**
 * The slug of the object this record belongs to.
 */
export type ObjectSlugPeople = ClosedEnum<typeof ObjectSlugPeople>;

export type DataPeople = {
  id: PostV2ObjectsRecordsSearchId2;
  /**
   * A human-readable label for the record. Present on records from all objects.
   */
  recordText: string;
  /**
   * The image for the record.
   */
  recordImage: string | null;
  /**
   * The slug of the object this record belongs to.
   */
  objectSlug: ObjectSlugPeople;
  /**
   * The person's email addresses.
   */
  emailAddresses: Array<string>;
  /**
   * The person's phone numbers.
   */
  phoneNumbers: Array<string>;
};

export type PostV2ObjectsRecordsSearchId1 = {
  /**
   * A UUID identifying the workspace this record belongs to.
   */
  workspaceId: string;
  /**
   * A UUID identifying the object this record belongs to.
   */
  objectId: string;
  /**
   * A UUID identifying this record.
   */
  recordId: string;
};

export type PostV2ObjectsRecordsSearchData = {
  id: PostV2ObjectsRecordsSearchId1;
  /**
   * A human-readable label for the record. Present on records from all objects.
   */
  recordText: string;
  /**
   * The image for the record.
   */
  recordImage: string | null;
  /**
   * The slug of the object this record belongs to.
   */
  objectSlug: string;
};

export type PostV2ObjectsRecordsSearchDataUnion =
  | DataPeople
  | DataCompanies
  | PostV2ObjectsRecordsSearchData;

/**
 * Success
 */
export type PostV2ObjectsRecordsSearchResponse = {
  data: Array<DataPeople | DataCompanies | PostV2ObjectsRecordsSearchData>;
};

/** @internal */
export const RequestAsTypeWorkspaceMember2$outboundSchema: z.ZodMiniEnum<
  typeof RequestAsTypeWorkspaceMember2
> = z.enum(RequestAsTypeWorkspaceMember2);

/** @internal */
export type RequestAsWorkspaceMember2$Outbound = {
  type: string;
  email_address: string;
};

/** @internal */
export const RequestAsWorkspaceMember2$outboundSchema: z.ZodMiniType<
  RequestAsWorkspaceMember2$Outbound,
  RequestAsWorkspaceMember2
> = z.pipe(
  z.object({
    type: RequestAsTypeWorkspaceMember2$outboundSchema,
    emailAddress: z.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      emailAddress: "email_address",
    });
  }),
);

export function requestAsWorkspaceMember2ToJSON(
  requestAsWorkspaceMember2: RequestAsWorkspaceMember2,
): string {
  return JSON.stringify(
    RequestAsWorkspaceMember2$outboundSchema.parse(requestAsWorkspaceMember2),
  );
}

/** @internal */
export const RequestAsTypeWorkspaceMember1$outboundSchema: z.ZodMiniEnum<
  typeof RequestAsTypeWorkspaceMember1
> = z.enum(RequestAsTypeWorkspaceMember1);

/** @internal */
export type RequestAsWorkspaceMember1$Outbound = {
  type: string;
  workspace_member_id: string;
};

/** @internal */
export const RequestAsWorkspaceMember1$outboundSchema: z.ZodMiniType<
  RequestAsWorkspaceMember1$Outbound,
  RequestAsWorkspaceMember1
> = z.pipe(
  z.object({
    type: RequestAsTypeWorkspaceMember1$outboundSchema,
    workspaceMemberId: z.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      workspaceMemberId: "workspace_member_id",
    });
  }),
);

export function requestAsWorkspaceMember1ToJSON(
  requestAsWorkspaceMember1: RequestAsWorkspaceMember1,
): string {
  return JSON.stringify(
    RequestAsWorkspaceMember1$outboundSchema.parse(requestAsWorkspaceMember1),
  );
}

/** @internal */
export const TypeWorkspace$outboundSchema: z.ZodMiniEnum<typeof TypeWorkspace> =
  z.enum(TypeWorkspace);

/** @internal */
export type RequestAsWorkspace$Outbound = {
  type: string;
};

/** @internal */
export const RequestAsWorkspace$outboundSchema: z.ZodMiniType<
  RequestAsWorkspace$Outbound,
  RequestAsWorkspace
> = z.object({
  type: TypeWorkspace$outboundSchema,
});

export function requestAsWorkspaceToJSON(
  requestAsWorkspace: RequestAsWorkspace,
): string {
  return JSON.stringify(
    RequestAsWorkspace$outboundSchema.parse(requestAsWorkspace),
  );
}

/** @internal */
export type RequestAs$Outbound =
  | RequestAsWorkspaceMember1$Outbound
  | RequestAsWorkspaceMember2$Outbound
  | RequestAsWorkspace$Outbound;

/** @internal */
export const RequestAs$outboundSchema: z.ZodMiniType<
  RequestAs$Outbound,
  RequestAs
> = smartUnion([
  z.lazy(() => RequestAsWorkspaceMember1$outboundSchema),
  z.lazy(() => RequestAsWorkspaceMember2$outboundSchema),
  z.lazy(() => RequestAsWorkspace$outboundSchema),
]);

export function requestAsToJSON(requestAs: RequestAs): string {
  return JSON.stringify(RequestAs$outboundSchema.parse(requestAs));
}

/** @internal */
export type PostV2ObjectsRecordsSearchRequest$Outbound = {
  query: string;
  limit: number;
  objects: Array<string>;
  request_as:
    | RequestAsWorkspaceMember1$Outbound
    | RequestAsWorkspaceMember2$Outbound
    | RequestAsWorkspace$Outbound;
};

/** @internal */
export const PostV2ObjectsRecordsSearchRequest$outboundSchema: z.ZodMiniType<
  PostV2ObjectsRecordsSearchRequest$Outbound,
  PostV2ObjectsRecordsSearchRequest
> = z.pipe(
  z.object({
    query: z.string(),
    limit: z._default(z.number(), 25),
    objects: z.array(z.string()),
    requestAs: smartUnion([
      z.lazy(() => RequestAsWorkspaceMember1$outboundSchema),
      z.lazy(() => RequestAsWorkspaceMember2$outboundSchema),
      z.lazy(() => RequestAsWorkspace$outboundSchema),
    ]),
  }),
  z.transform((v) => {
    return remap$(v, {
      requestAs: "request_as",
    });
  }),
);

export function postV2ObjectsRecordsSearchRequestToJSON(
  postV2ObjectsRecordsSearchRequest: PostV2ObjectsRecordsSearchRequest,
): string {
  return JSON.stringify(
    PostV2ObjectsRecordsSearchRequest$outboundSchema.parse(
      postV2ObjectsRecordsSearchRequest,
    ),
  );
}

/** @internal */
export const PostV2ObjectsRecordsSearchBadRequestType$inboundSchema:
  z.ZodMiniEnum<typeof PostV2ObjectsRecordsSearchBadRequestType> = z.enum(
    PostV2ObjectsRecordsSearchBadRequestType,
  );

/** @internal */
export const PostV2ObjectsRecordsSearchCode$inboundSchema: z.ZodMiniEnum<
  typeof PostV2ObjectsRecordsSearchCode
> = z.enum(PostV2ObjectsRecordsSearchCode);

/** @internal */
export const PostV2ObjectsRecordsSearchId3$inboundSchema: z.ZodMiniType<
  PostV2ObjectsRecordsSearchId3,
  unknown
> = z.pipe(
  z.object({
    workspace_id: types.string(),
    object_id: types.string(),
    record_id: types.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      "workspace_id": "workspaceId",
      "object_id": "objectId",
      "record_id": "recordId",
    });
  }),
);

export function postV2ObjectsRecordsSearchId3FromJSON(
  jsonString: string,
): SafeParseResult<PostV2ObjectsRecordsSearchId3, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => PostV2ObjectsRecordsSearchId3$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'PostV2ObjectsRecordsSearchId3' from JSON`,
  );
}

/** @internal */
export const ObjectSlugCompanies$inboundSchema: z.ZodMiniEnum<
  typeof ObjectSlugCompanies
> = z.enum(ObjectSlugCompanies);

/** @internal */
export const DataCompanies$inboundSchema: z.ZodMiniType<
  DataCompanies,
  unknown
> = z.pipe(
  z.object({
    id: z.lazy(() => PostV2ObjectsRecordsSearchId3$inboundSchema),
    record_text: types.string(),
    record_image: types.nullable(types.string()),
    object_slug: ObjectSlugCompanies$inboundSchema,
    domains: z.array(types.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "record_text": "recordText",
      "record_image": "recordImage",
      "object_slug": "objectSlug",
    });
  }),
);

export function dataCompaniesFromJSON(
  jsonString: string,
): SafeParseResult<DataCompanies, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DataCompanies$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DataCompanies' from JSON`,
  );
}

/** @internal */
export const PostV2ObjectsRecordsSearchId2$inboundSchema: z.ZodMiniType<
  PostV2ObjectsRecordsSearchId2,
  unknown
> = z.pipe(
  z.object({
    workspace_id: types.string(),
    object_id: types.string(),
    record_id: types.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      "workspace_id": "workspaceId",
      "object_id": "objectId",
      "record_id": "recordId",
    });
  }),
);

export function postV2ObjectsRecordsSearchId2FromJSON(
  jsonString: string,
): SafeParseResult<PostV2ObjectsRecordsSearchId2, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => PostV2ObjectsRecordsSearchId2$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'PostV2ObjectsRecordsSearchId2' from JSON`,
  );
}

/** @internal */
export const ObjectSlugPeople$inboundSchema: z.ZodMiniEnum<
  typeof ObjectSlugPeople
> = z.enum(ObjectSlugPeople);

/** @internal */
export const DataPeople$inboundSchema: z.ZodMiniType<DataPeople, unknown> = z
  .pipe(
    z.object({
      id: z.lazy(() => PostV2ObjectsRecordsSearchId2$inboundSchema),
      record_text: types.string(),
      record_image: types.nullable(types.string()),
      object_slug: ObjectSlugPeople$inboundSchema,
      email_addresses: z.array(types.string()),
      phone_numbers: z.array(types.string()),
    }),
    z.transform((v) => {
      return remap$(v, {
        "record_text": "recordText",
        "record_image": "recordImage",
        "object_slug": "objectSlug",
        "email_addresses": "emailAddresses",
        "phone_numbers": "phoneNumbers",
      });
    }),
  );

export function dataPeopleFromJSON(
  jsonString: string,
): SafeParseResult<DataPeople, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DataPeople$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DataPeople' from JSON`,
  );
}

/** @internal */
export const PostV2ObjectsRecordsSearchId1$inboundSchema: z.ZodMiniType<
  PostV2ObjectsRecordsSearchId1,
  unknown
> = z.pipe(
  z.object({
    workspace_id: types.string(),
    object_id: types.string(),
    record_id: types.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      "workspace_id": "workspaceId",
      "object_id": "objectId",
      "record_id": "recordId",
    });
  }),
);

export function postV2ObjectsRecordsSearchId1FromJSON(
  jsonString: string,
): SafeParseResult<PostV2ObjectsRecordsSearchId1, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => PostV2ObjectsRecordsSearchId1$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'PostV2ObjectsRecordsSearchId1' from JSON`,
  );
}

/** @internal */
export const PostV2ObjectsRecordsSearchData$inboundSchema: z.ZodMiniType<
  PostV2ObjectsRecordsSearchData,
  unknown
> = z.pipe(
  z.object({
    id: z.lazy(() => PostV2ObjectsRecordsSearchId1$inboundSchema),
    record_text: types.string(),
    record_image: types.nullable(types.string()),
    object_slug: types.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      "record_text": "recordText",
      "record_image": "recordImage",
      "object_slug": "objectSlug",
    });
  }),
);

export function postV2ObjectsRecordsSearchDataFromJSON(
  jsonString: string,
): SafeParseResult<PostV2ObjectsRecordsSearchData, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => PostV2ObjectsRecordsSearchData$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'PostV2ObjectsRecordsSearchData' from JSON`,
  );
}

/** @internal */
export const PostV2ObjectsRecordsSearchDataUnion$inboundSchema: z.ZodMiniType<
  PostV2ObjectsRecordsSearchDataUnion,
  unknown
> = smartUnion([
  z.lazy(() => DataPeople$inboundSchema),
  z.lazy(() => DataCompanies$inboundSchema),
  z.lazy(() => PostV2ObjectsRecordsSearchData$inboundSchema),
]);

export function postV2ObjectsRecordsSearchDataUnionFromJSON(
  jsonString: string,
): SafeParseResult<PostV2ObjectsRecordsSearchDataUnion, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      PostV2ObjectsRecordsSearchDataUnion$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'PostV2ObjectsRecordsSearchDataUnion' from JSON`,
  );
}

/** @internal */
export const PostV2ObjectsRecordsSearchResponse$inboundSchema: z.ZodMiniType<
  PostV2ObjectsRecordsSearchResponse,
  unknown
> = z.object({
  data: z.array(
    smartUnion([
      z.lazy(() => DataPeople$inboundSchema),
      z.lazy(() => DataCompanies$inboundSchema),
      z.lazy(() => PostV2ObjectsRecordsSearchData$inboundSchema),
    ]),
  ),
});

export function postV2ObjectsRecordsSearchResponseFromJSON(
  jsonString: string,
): SafeParseResult<PostV2ObjectsRecordsSearchResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      PostV2ObjectsRecordsSearchResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'PostV2ObjectsRecordsSearchResponse' from JSON`,
  );
}

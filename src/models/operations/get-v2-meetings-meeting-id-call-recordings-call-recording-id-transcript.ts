/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

export type GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequest =
  {
    meetingId: string;
    callRecordingId: string;
    cursor?: string | undefined;
  };

export type GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptId = {
  /**
   * The ID of the workspace this transcript belongs to.
   */
  workspaceId: string;
  /**
   * The ID of the meeting associated with this transcript.
   */
  meetingId: string;
  /**
   * The ID of the call recording this transcript belongs to.
   */
  callRecordingId: string;
};

/**
 * The speaker of this transcript segment.
 */
export type Speaker = {
  /**
   * The name of the speaker.
   */
  name: string;
};

export type Transcript = {
  /**
   * The spoken text for this segment of the transcript.
   */
  speech: string;
  /**
   * The start time of this speech segment in seconds, measured from the start of the recording.
   */
  startTime: number;
  /**
   * The end time of this speech segment in seconds, measured from the start of the recording.
   */
  endTime: number;
  /**
   * The speaker of this transcript segment.
   */
  speaker: Speaker;
};

export type GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptData =
  {
    id: GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptId;
    /**
     * The transcript segments with speech, timing, and speaker information.
     */
    transcript: Array<Transcript>;
    /**
     * The raw transcript of the call recording.
     */
    rawTranscript: string;
    /**
     * A URL that links directly to the call recording transcript in the Attio web application.
     */
    webUrl: string;
  };

export type GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptPagination =
  {
    nextCursor: string | null;
  };

/**
 * Success
 */
export type GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptResponse =
  {
    data: GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptData;
    pagination:
      GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptPagination;
  };

/** @internal */
export type GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequest$Outbound =
  {
    meeting_id: string;
    call_recording_id: string;
    cursor?: string | undefined;
  };

/** @internal */
export const GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequest$outboundSchema:
  z.ZodMiniType<
    GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequest$Outbound,
    GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequest
  > = z.pipe(
    z.object({
      meetingId: z.string(),
      callRecordingId: z.string(),
      cursor: z.optional(z.string()),
    }),
    z.transform((v) => {
      return remap$(v, {
        meetingId: "meeting_id",
        callRecordingId: "call_recording_id",
      });
    }),
  );

export function getV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequestToJSON(
  getV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequest:
    GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequest,
): string {
  return JSON.stringify(
    GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequest$outboundSchema
      .parse(
        getV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptRequest,
      ),
  );
}

/** @internal */
export const GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptId$inboundSchema:
  z.ZodMiniType<
    GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptId,
    unknown
  > = z.pipe(
    z.object({
      workspace_id: types.string(),
      meeting_id: types.string(),
      call_recording_id: types.string(),
    }),
    z.transform((v) => {
      return remap$(v, {
        "workspace_id": "workspaceId",
        "meeting_id": "meetingId",
        "call_recording_id": "callRecordingId",
      });
    }),
  );

export function getV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptIdFromJSON(
  jsonString: string,
): SafeParseResult<
  GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptId,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptId$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptId' from JSON`,
  );
}

/** @internal */
export const Speaker$inboundSchema: z.ZodMiniType<Speaker, unknown> = z.object({
  name: types.string(),
});

export function speakerFromJSON(
  jsonString: string,
): SafeParseResult<Speaker, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Speaker$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Speaker' from JSON`,
  );
}

/** @internal */
export const Transcript$inboundSchema: z.ZodMiniType<Transcript, unknown> = z
  .pipe(
    z.object({
      speech: types.string(),
      start_time: types.number(),
      end_time: types.number(),
      speaker: z.lazy(() => Speaker$inboundSchema),
    }),
    z.transform((v) => {
      return remap$(v, {
        "start_time": "startTime",
        "end_time": "endTime",
      });
    }),
  );

export function transcriptFromJSON(
  jsonString: string,
): SafeParseResult<Transcript, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Transcript$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Transcript' from JSON`,
  );
}

/** @internal */
export const GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptData$inboundSchema:
  z.ZodMiniType<
    GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptData,
    unknown
  > = z.pipe(
    z.object({
      id: z.lazy(() =>
        GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptId$inboundSchema
      ),
      transcript: z.array(z.lazy(() => Transcript$inboundSchema)),
      raw_transcript: types.string(),
      web_url: types.string(),
    }),
    z.transform((v) => {
      return remap$(v, {
        "raw_transcript": "rawTranscript",
        "web_url": "webUrl",
      });
    }),
  );

export function getV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptDataFromJSON(
  jsonString: string,
): SafeParseResult<
  GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptData,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptData$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptData' from JSON`,
  );
}

/** @internal */
export const GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptPagination$inboundSchema:
  z.ZodMiniType<
    GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptPagination,
    unknown
  > = z.pipe(
    z.object({
      next_cursor: types.nullable(types.string()),
    }),
    z.transform((v) => {
      return remap$(v, {
        "next_cursor": "nextCursor",
      });
    }),
  );

export function getV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptPaginationFromJSON(
  jsonString: string,
): SafeParseResult<
  GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptPagination,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptPagination$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptPagination' from JSON`,
  );
}

/** @internal */
export const GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptResponse$inboundSchema:
  z.ZodMiniType<
    GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptResponse,
    unknown
  > = z.object({
    data: z.lazy(() =>
      GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptData$inboundSchema
    ),
    pagination: z.lazy(() =>
      GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptPagination$inboundSchema
    ),
  });

export function getV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptResponseFromJSON(
  jsonString: string,
): SafeParseResult<
  GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptResponse,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptResponse$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdTranscriptResponse' from JSON`,
  );
}

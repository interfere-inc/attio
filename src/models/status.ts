/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

export type StatusId = {
  /**
   * The ID of the workspace
   */
  workspaceId: string;
  /**
   * The ID of the object
   */
  objectId: string;
  /**
   * The ID of the attribute
   */
  attributeId: string;
  /**
   * The ID of the status
   */
  statusId: string;
};

export type Status = {
  id: StatusId;
  /**
   * The title of the status
   */
  title: string;
  /**
   * Whether or not to archive the status. See our [archiving guide](/docs/archiving-vs-deleting) for more information on archiving.
   */
  isArchived: boolean;
  /**
   * Whether arriving at this status triggers a celebration effect in the UI
   */
  celebrationEnabled: boolean;
  /**
   * Target time for a record to spend in given status expressed as a ISO-8601 duration string
   */
  targetTimeInStatus: string | null;
};

/** @internal */
export const StatusId$inboundSchema: z.ZodMiniType<StatusId, unknown> = z.pipe(
  z.object({
    workspace_id: types.string(),
    object_id: types.string(),
    attribute_id: types.string(),
    status_id: types.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      "workspace_id": "workspaceId",
      "object_id": "objectId",
      "attribute_id": "attributeId",
      "status_id": "statusId",
    });
  }),
);

export function statusIdFromJSON(
  jsonString: string,
): SafeParseResult<StatusId, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => StatusId$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'StatusId' from JSON`,
  );
}

/** @internal */
export const Status$inboundSchema: z.ZodMiniType<Status, unknown> = z.pipe(
  z.object({
    id: z.lazy(() => StatusId$inboundSchema),
    title: types.string(),
    is_archived: types.boolean(),
    celebration_enabled: types.boolean(),
    target_time_in_status: types.nullable(types.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "is_archived": "isArchived",
      "celebration_enabled": "celebrationEnabled",
      "target_time_in_status": "targetTimeInStatus",
    });
  }),
);

export function statusFromJSON(
  jsonString: string,
): SafeParseResult<Status, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Status$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Status' from JSON`,
  );
}

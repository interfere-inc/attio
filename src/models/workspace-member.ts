/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

export type WorkspaceMemberId = {
  /**
   * The ID of the workspace the workspace member belongs to.
   */
  workspaceId: string;
  /**
   * The ID of the workspace member.
   */
  workspaceMemberId: string;
};

/**
 * Whether the workspace member is suspended or not and what level of privileges they have inside the workspace. We do not delete workspace members so that you can successfully attribute past actions to suspended workspace members.
 */
export const AccessLevel = {
  Admin: "admin",
  Member: "member",
  Suspended: "suspended",
} as const;
/**
 * Whether the workspace member is suspended or not and what level of privileges they have inside the workspace. We do not delete workspace members so that you can successfully attribute past actions to suspended workspace members.
 */
export type AccessLevel = OpenEnum<typeof AccessLevel>;

export type WorkspaceMember = {
  id: WorkspaceMemberId;
  /**
   * The first name of the user.
   */
  firstName: string;
  /**
   * The last name of the user.
   */
  lastName: string;
  /**
   * A URL to the user's avatar image.
   */
  avatarUrl: string | null;
  /**
   * The user's email address.
   */
  emailAddress: string;
  /**
   * When the workspace member was created.
   */
  createdAt: string;
  /**
   * Whether the workspace member is suspended or not and what level of privileges they have inside the workspace. We do not delete workspace members so that you can successfully attribute past actions to suspended workspace members.
   */
  accessLevel: AccessLevel;
};

/** @internal */
export const WorkspaceMemberId$inboundSchema: z.ZodMiniType<
  WorkspaceMemberId,
  unknown
> = z.pipe(
  z.object({
    workspace_id: types.string(),
    workspace_member_id: types.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      "workspace_id": "workspaceId",
      "workspace_member_id": "workspaceMemberId",
    });
  }),
);

export function workspaceMemberIdFromJSON(
  jsonString: string,
): SafeParseResult<WorkspaceMemberId, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WorkspaceMemberId$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WorkspaceMemberId' from JSON`,
  );
}

/** @internal */
export const AccessLevel$inboundSchema: z.ZodMiniType<AccessLevel, unknown> =
  openEnums.inboundSchema(AccessLevel);

/** @internal */
export const WorkspaceMember$inboundSchema: z.ZodMiniType<
  WorkspaceMember,
  unknown
> = z.pipe(
  z.object({
    id: z.lazy(() => WorkspaceMemberId$inboundSchema),
    first_name: types.string(),
    last_name: types.string(),
    avatar_url: types.nullable(types.string()),
    email_address: types.string(),
    created_at: types.string(),
    access_level: AccessLevel$inboundSchema,
  }),
  z.transform((v) => {
    return remap$(v, {
      "first_name": "firstName",
      "last_name": "lastName",
      "avatar_url": "avatarUrl",
      "email_address": "emailAddress",
      "created_at": "createdAt",
      "access_level": "accessLevel",
    });
  }),
);

export function workspaceMemberFromJSON(
  jsonString: string,
): SafeParseResult<WorkspaceMember, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WorkspaceMember$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WorkspaceMember' from JSON`,
  );
}

/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./errors/sdk-validation-error.js";

export type ListId = {
  /**
   * A UUID to identify the workspace this list belongs to.
   */
  workspaceId: string;
  /**
   * A UUID to identify this list.
   */
  listId: string;
};

/**
 * The level of access granted to all members of the workspace for this list. `null` values represent a private list that only grants access to specific workspace members via the `workspace_member_access` property.
 */
export const WorkspaceAccess = {
  FullAccess: "full-access",
  ReadAndWrite: "read-and-write",
  ReadOnly: "read-only",
} as const;
/**
 * The level of access granted to all members of the workspace for this list. `null` values represent a private list that only grants access to specific workspace members via the `workspace_member_access` property.
 */
export type WorkspaceAccess = OpenEnum<typeof WorkspaceAccess>;

/**
 * The level of access to the list.
 */
export const Level = {
  FullAccess: "full-access",
  ReadAndWrite: "read-and-write",
  ReadOnly: "read-only",
} as const;
/**
 * The level of access to the list.
 */
export type Level = OpenEnum<typeof Level>;

export type WorkspaceMemberAccess = {
  /**
   * A UUID to identify the workspace member to grant access to.
   */
  workspaceMemberId: string;
  /**
   * The level of access to the list.
   */
  level: Level;
};

/**
 * The type of actor. [Read more information on actor types here](/docs/actors).
 */
export const ListType = {
  ApiToken: "api-token",
  WorkspaceMember: "workspace-member",
  System: "system",
  App: "app",
} as const;
/**
 * The type of actor. [Read more information on actor types here](/docs/actors).
 */
export type ListType = OpenEnum<typeof ListType>;

/**
 * The actor which created this list.
 */
export type ListCreatedByActor = {
  /**
   * An ID to identify the actor.
   */
  id?: string | null | undefined;
  /**
   * The type of actor. [Read more information on actor types here](/docs/actors).
   */
  type?: ListType | null | undefined;
};

export type List = {
  id: ListId;
  /**
   * A human-readable slug for use in URLs and responses.
   */
  apiSlug: string;
  /**
   * The name of the list, as viewed in the UI.
   */
  name: string;
  /**
   * A UUID or slug to identify the allowed object type for records added to this list. All new Lists are expected to have exactly one parent object. However, some legacy lists may have multiple allowed parents so the return type of this field is an array.
   */
  parentObject: Array<string>;
  /**
   * The level of access granted to all members of the workspace for this list. `null` values represent a private list that only grants access to specific workspace members via the `workspace_member_access` property.
   */
  workspaceAccess: WorkspaceAccess | null;
  /**
   * The level of access granted to specific workspace members for this list. An empty array represents a list that has granted access to no workspace members.
   */
  workspaceMemberAccess: Array<WorkspaceMemberAccess>;
  /**
   * The actor which created this list.
   */
  createdByActor: ListCreatedByActor;
  /**
   * When the list was created.
   */
  createdAt: string;
};

/** @internal */
export const ListId$inboundSchema: z.ZodMiniType<ListId, unknown> = z.pipe(
  z.object({
    workspace_id: types.string(),
    list_id: types.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      "workspace_id": "workspaceId",
      "list_id": "listId",
    });
  }),
);

export function listIdFromJSON(
  jsonString: string,
): SafeParseResult<ListId, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListId$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListId' from JSON`,
  );
}

/** @internal */
export const WorkspaceAccess$inboundSchema: z.ZodMiniType<
  WorkspaceAccess,
  unknown
> = openEnums.inboundSchema(WorkspaceAccess);

/** @internal */
export const Level$inboundSchema: z.ZodMiniType<Level, unknown> = openEnums
  .inboundSchema(Level);

/** @internal */
export const WorkspaceMemberAccess$inboundSchema: z.ZodMiniType<
  WorkspaceMemberAccess,
  unknown
> = z.pipe(
  z.object({
    workspace_member_id: types.string(),
    level: Level$inboundSchema,
  }),
  z.transform((v) => {
    return remap$(v, {
      "workspace_member_id": "workspaceMemberId",
    });
  }),
);

export function workspaceMemberAccessFromJSON(
  jsonString: string,
): SafeParseResult<WorkspaceMemberAccess, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => WorkspaceMemberAccess$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'WorkspaceMemberAccess' from JSON`,
  );
}

/** @internal */
export const ListType$inboundSchema: z.ZodMiniType<ListType, unknown> =
  openEnums.inboundSchema(ListType);

/** @internal */
export const ListCreatedByActor$inboundSchema: z.ZodMiniType<
  ListCreatedByActor,
  unknown
> = z.object({
  id: z.optional(z.nullable(types.string())),
  type: z.optional(z.nullable(ListType$inboundSchema)),
});

export function listCreatedByActorFromJSON(
  jsonString: string,
): SafeParseResult<ListCreatedByActor, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListCreatedByActor$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListCreatedByActor' from JSON`,
  );
}

/** @internal */
export const List$inboundSchema: z.ZodMiniType<List, unknown> = z.pipe(
  z.object({
    id: z.lazy(() => ListId$inboundSchema),
    api_slug: types.string(),
    name: types.string(),
    parent_object: z.array(types.string()),
    workspace_access: types.nullable(WorkspaceAccess$inboundSchema),
    workspace_member_access: z.array(z.lazy(() =>
      WorkspaceMemberAccess$inboundSchema
    )),
    created_by_actor: z.lazy(() => ListCreatedByActor$inboundSchema),
    created_at: types.string(),
  }),
  z.transform((v) => {
    return remap$(v, {
      "api_slug": "apiSlug",
      "parent_object": "parentObject",
      "workspace_access": "workspaceAccess",
      "workspace_member_access": "workspaceMemberAccess",
      "created_by_actor": "createdByActor",
      "created_at": "createdAt",
    });
  }),
);

export function listFromJSON(
  jsonString: string,
): SafeParseResult<List, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => List$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'List' from JSON`,
  );
}

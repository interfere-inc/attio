/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { callRecordingsCreate } from "../funcs/call-recordings-create.js";
import { callRecordingsDelete } from "../funcs/call-recordings-delete.js";
import { callRecordingsGet } from "../funcs/call-recordings-get.js";
import { callRecordingsListByMeeting } from "../funcs/call-recordings-list-by-meeting.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class CallRecordings extends ClientSDK {
  /**
   * List call recordings
   *
   * @remarks
   * List all call recordings for a meeting.
   *
   * This endpoint is in beta. We will aim to avoid breaking changes, but small updates may be made as we roll out to more users.
   *
   * Required scopes: `meeting:read`, `call_recording:read`.
   */
  async listByMeeting(
    request: operations.GetV2MeetingsMeetingIdCallRecordingsRequest,
    options?: RequestOptions,
  ): Promise<operations.GetV2MeetingsMeetingIdCallRecordingsResponse> {
    return unwrapAsync(callRecordingsListByMeeting(
      this,
      request,
      options,
    ));
  }

  /**
   * Create call recording
   *
   * @remarks
   * Create a call recording for a meeting. This endpoint is rate limited to 1 request per second.
   *
   * This endpoint is in alpha and may be subject to breaking changes as we gather feedback.
   *
   * Required scopes: `meeting:read`, `call_recording:read-write`.
   */
  async create(
    request: operations.PostV2MeetingsMeetingIdCallRecordingsRequest,
    options?: RequestOptions,
  ): Promise<operations.PostV2MeetingsMeetingIdCallRecordingsResponse> {
    return unwrapAsync(callRecordingsCreate(
      this,
      request,
      options,
    ));
  }

  /**
   * Get call recording
   *
   * @remarks
   * Get a single call recording by ID.
   *
   * This endpoint is in beta. We will aim to avoid breaking changes, but small updates may be made as we roll out to more users.
   *
   * Required scopes: `meeting:read`, `call_recording:read`.
   */
  async get(
    request:
      operations.GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdRequest,
    options?: RequestOptions,
  ): Promise<
    operations.GetV2MeetingsMeetingIdCallRecordingsCallRecordingIdResponse
  > {
    return unwrapAsync(callRecordingsGet(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete call recording
   *
   * @remarks
   * Deletes the specified call recording. This will remove the call recording and all associated data.
   *
   * This endpoint is in alpha and may be subject to breaking changes as we gather feedback.
   *
   * Required scopes: `meeting:read`, `call_recording:read-write`.
   */
  async delete(
    request:
      operations.DeleteV2MeetingsMeetingIdCallRecordingsCallRecordingIdRequest,
    options?: RequestOptions,
  ): Promise<
    operations.DeleteV2MeetingsMeetingIdCallRecordingsCallRecordingIdResponse
  > {
    return unwrapAsync(callRecordingsDelete(
      this,
      request,
      options,
    ));
  }
}

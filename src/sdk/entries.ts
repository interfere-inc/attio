/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { entriesAppendUpdate } from "../funcs/entries-append-update.js";
import { entriesCreate } from "../funcs/entries-create.js";
import { entriesDelete } from "../funcs/entries-delete.js";
import { entriesGet } from "../funcs/entries-get.js";
import { entriesListAttributeValues } from "../funcs/entries-list-attribute-values.js";
import { entriesQuery } from "../funcs/entries-query.js";
import { entriesUpdate } from "../funcs/entries-update.js";
import { entriesUpsertByParent } from "../funcs/entries-upsert-by-parent.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Entries extends ClientSDK {
  /**
   * List entries
   *
   * @remarks
   * Lists entries in a given list, with the option to filter and sort results.
   *
   * Required scopes: `list_entry:read`, `list_configuration:read`.
   */
  async query(
    request: operations.PostV2ListsListEntriesQueryRequest,
    options?: RequestOptions,
  ): Promise<operations.PostV2ListsListEntriesQueryResponse> {
    return unwrapAsync(entriesQuery(
      this,
      request,
      options,
    ));
  }

  /**
   * Create an entry (add record to list)
   *
   * @remarks
   * Adds a record to a list as a new list entry. This endpoint will throw on conflicts of unique attributes. Multiple list entries are allowed for the same parent record
   *
   * Required scopes: `list_entry:read-write`, `list_configuration:read`.
   */
  async create(
    request: operations.PostV2ListsListEntriesRequest,
    options?: RequestOptions,
  ): Promise<operations.PostV2ListsListEntriesResponse> {
    return unwrapAsync(entriesCreate(
      this,
      request,
      options,
    ));
  }

  /**
   * Assert a list entry by parent
   *
   * @remarks
   * Use this endpoint to create or update a list entry for a given parent record. If an entry with the specified parent record is found, that entry will be updated. If no such entry is found, a new entry will be created instead. If there are multiple entries with the same parent record, this endpoint with return the "MULTIPLE_MATCH_RESULTS" error. When writing to multi-select attributes, all values will be either created or deleted as necessary to match the list of values supplied in the request body.
   *
   * Required scopes: `list_entry:read-write`, `list_configuration:read`.
   */
  async upsertByParent(
    request: operations.PutV2ListsListEntriesRequest,
    options?: RequestOptions,
  ): Promise<operations.PutV2ListsListEntriesResponse> {
    return unwrapAsync(entriesUpsertByParent(
      this,
      request,
      options,
    ));
  }

  /**
   * Get a list entry
   *
   * @remarks
   * Gets a single list entry by its `entry_id`.
   *
   * Required scopes: `list_entry:read`, `list_configuration:read`.
   */
  async get(
    request: operations.GetV2ListsListEntriesEntryIdRequest,
    options?: RequestOptions,
  ): Promise<operations.GetV2ListsListEntriesEntryIdResponse> {
    return unwrapAsync(entriesGet(
      this,
      request,
      options,
    ));
  }

  /**
   * Update a list entry (append multiselect values)
   *
   * @remarks
   * Use this endpoint to update list entries by `entry_id`. If the update payload includes multiselect attributes, the values supplied will be created and prepended to the list of values that already exist (if any). Use the `PUT` endpoint to overwrite or remove multiselect attribute values.
   *
   * Required scopes: `list_entry:read-write`, `list_configuration:read`.
   */
  async appendUpdate(
    request: operations.PatchV2ListsListEntriesEntryIdRequest,
    options?: RequestOptions,
  ): Promise<operations.PatchV2ListsListEntriesEntryIdResponse> {
    return unwrapAsync(entriesAppendUpdate(
      this,
      request,
      options,
    ));
  }

  /**
   * Update a list entry (overwrite multiselect values)
   *
   * @remarks
   * Use this endpoint to update list entries by `entry_id`. If the update payload includes multiselect attributes, the values supplied will overwrite/remove the list of values that already exist (if any). Use the `PATCH` endpoint to add multiselect attribute values without removing those value that already exist.
   *
   * Required scopes: `list_entry:read-write`, `list_configuration:read`.
   */
  async update(
    request: operations.PutV2ListsListEntriesEntryIdRequest,
    options?: RequestOptions,
  ): Promise<operations.PutV2ListsListEntriesEntryIdResponse> {
    return unwrapAsync(entriesUpdate(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete a list entry
   *
   * @remarks
   * Deletes a single list entry by its `entry_id`.
   *
   * Required scopes: `list_entry:read-write`, `list_configuration:read`.
   */
  async delete(
    request: operations.DeleteV2ListsListEntriesEntryIdRequest,
    options?: RequestOptions,
  ): Promise<operations.DeleteV2ListsListEntriesEntryIdResponse> {
    return unwrapAsync(entriesDelete(
      this,
      request,
      options,
    ));
  }

  /**
   * List attribute values for a list entry
   *
   * @remarks
   * Gets all values for a given attribute on a list entry. This endpoint has the ability to return all historic values using the `show_historic` query param. Historic values are sorted from oldest to newest (by `active_from`).
   *
   * Required scopes: `list_entry:read`, `list_configuration:read`.
   */
  async listAttributeValues(
    request:
      operations.GetV2ListsListEntriesEntryIdAttributesAttributeValuesRequest,
    options?: RequestOptions,
  ): Promise<
    operations.GetV2ListsListEntriesEntryIdAttributesAttributeValuesResponse
  > {
    return unwrapAsync(entriesListAttributeValues(
      this,
      request,
      options,
    ));
  }
}
